{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Liana\\\\Desktop\\\\innroadInterview\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport { Button, Divider, Layout, Typography } from 'antd';\nimport { useEffect, useMemo, useState } from 'react';\nimport * as api from './lib/api';\nimport AddPost from './lib/AddPost';\nimport PostsTable from './lib/PostsTable';\nimport useUuid from './useUuid';\nimport axios from 'axios'; // YOU CANNOT CHANGE ANY COMPONENT INSIDE LIB FOLDER, JUST THIS ONE\n// Before to start, please check the code inside lib folder just to get familiar with it\n// With the minimum re-renders and not adding new useState, please do:\n//  V   1. Fetch Users & pass it to AddPost sorted by name ascending \n//  V   2. Fetch Posts & pass it to PostsTable (fulfill the table)\n//  V   2.1. Fetch post and users must happen in parallel\n//  V   3. Use Sort button to toggle sort order on post by users' name\n//  V   4. Receive new entries from AddPost and add them to PostsTable\n// 5. BONUS: Make the alert only appear once after clicking on the element\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const [posts, setPosts] = useState([]);\n  const [sortOrder, setSortOrder] = useState('asc'); // ONLY MAKE YOUR CHANGES HERE\n\n  const records = posts;\n\n  const handleNewPost = post => {\n    const newPosts = {\n      userId: newPost.userId,\n      title: newPost.title,\n      body: newPost.body,\n      id: newPost.id,\n      userName: getUserNameById(newPost.userId, users)\n    }; // axios.post('https://jsonplaceholder.typicode.com/posts', {\n    //   userId: newPost.userId,\n    //   title: newPost.title,\n    //   body: newPost.body,\n    //   id: newPost.id,\n    //   userName: getUserNameById(newPost.userId, users)\n    // })\n    // .then(response => {\n\n    setPosts([newPosts, ...posts]); //   const unSorted = ([...posts,response.data])\n    //   const sorted = sortOrder === \"asc\"\n    //   ? unSorted.slice().sort((a, b) => a.userName.localeCompare(b.userName))\n    //   : unSorted.slice().sort((a, b) => b.userName.localeCompare(a.userName))\n    // setPosts(sorted)\n    // })\n    // .catch(error => {\n    //   console.log(error);\n    // });\n  };\n\n  useEffect(() => {\n    Promise.all([api.fetchUsers(), api.fetchPosts()]).then(_ref => {\n      let [users, posts] = _ref;\n      setUsers(users.sort((a, b) => a.name.localeCompare(b.name)));\n      posts.forEach(el => el.userName = getUserNameById(el.userId, users));\n      setPosts(posts);\n    });\n  }, []);\n\n  const handleSortClick = () => {\n    const sorted = sortOrder === \"asc\" ? [...posts].sort((a, b) => a.userName.localeCompare(b.userName)) : [...posts].sort((a, b) => b.userName.localeCompare(a.userName));\n    setPosts(sorted);\n    setSortOrder(sortOrder === \"asc\" ? \"desc\" : \"asc\");\n  };\n\n  const getUserNameById = (userId, users) => {\n    let user = users.find(user => user.id === userId);\n    return user.username;\n  }; // FINISH YOUR CHANGES HERE\n  // ---------------------------------------------------------------\n  // DONT REMOVE THIS LINE, THIS IS FOR step 5, BONUS\n\n\n  const [uuid, handleRecordsChange] = useUuid();\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Layout.Content, {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Typography.Title, {\n        children: [\"innRoad Interview\", /*#__PURE__*/_jsxDEV(\"small\", {\n          id: \"uuid\",\n          className: \"records\",\n          children: [\" (Last uiid: \", uuid, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddPost, {\n        users: users,\n        onSubmit: handleNewPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSortClick,\n        className: \"sortButton\",\n        children: [\"Sorting Posts: \", sortOrder === 'asc' ? 'Ascending' : 'Descending']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PostsTable, {\n        records: records,\n        onRecordsChange: handleRecordsChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"5E15WuwfIOb66Fnw6OGk8rbC2zg=\", false, function () {\n  return [useUuid];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Button","Divider","Layout","Typography","useEffect","useMemo","useState","api","AddPost","PostsTable","useUuid","axios","App","users","setUsers","posts","setPosts","sortOrder","setSortOrder","records","handleNewPost","post","newPosts","userId","newPost","title","body","id","userName","getUserNameById","Promise","all","fetchUsers","fetchPosts","then","sort","a","b","name","localeCompare","forEach","el","handleSortClick","sorted","user","find","username","uuid","handleRecordsChange"],"sources":["C:/Users/Liana/Desktop/innroadInterview/src/App.js"],"sourcesContent":["import './App.css';\nimport 'antd/dist/antd.css';\nimport { Button, Divider, Layout, Typography } from 'antd';\nimport { useEffect, useMemo, useState } from 'react';\nimport * as api from './lib/api';\nimport AddPost from './lib/AddPost';\nimport PostsTable from './lib/PostsTable';\nimport useUuid from './useUuid';\nimport axios from 'axios';\n\n// YOU CANNOT CHANGE ANY COMPONENT INSIDE LIB FOLDER, JUST THIS ONE\n// Before to start, please check the code inside lib folder just to get familiar with it\n// With the minimum re-renders and not adding new useState, please do:\n//  V   1. Fetch Users & pass it to AddPost sorted by name ascending \n//  V   2. Fetch Posts & pass it to PostsTable (fulfill the table)\n//  V   2.1. Fetch post and users must happen in parallel\n//  V   3. Use Sort button to toggle sort order on post by users' name\n//  V   4. Receive new entries from AddPost and add them to PostsTable\n// 5. BONUS: Make the alert only appear once after clicking on the element\n\nfunction App() {\n\n  const [users, setUsers] = useState([]);\n  const [posts, setPosts] = useState([]);\n  const [sortOrder, setSortOrder] = useState('asc');\n\n  // ONLY MAKE YOUR CHANGES HERE\n\n  const records = posts;\n\n  const handleNewPost = (post) => {\n    const newPosts = {\n        userId: newPost.userId,\n        title: newPost.title,\n        body: newPost.body,\n        id: newPost.id,\n        userName: getUserNameById(newPost.userId, users)\n      }\n    // axios.post('https://jsonplaceholder.typicode.com/posts', {\n    //   userId: newPost.userId,\n    //   title: newPost.title,\n    //   body: newPost.body,\n    //   id: newPost.id,\n    //   userName: getUserNameById(newPost.userId, users)\n    // })\n    // .then(response => {\n\n      setPosts([newPosts, ...posts])\n\n    //   const unSorted = ([...posts,response.data])\n    //   const sorted = sortOrder === \"asc\"\n    //   ? unSorted.slice().sort((a, b) => a.userName.localeCompare(b.userName))\n    //   : unSorted.slice().sort((a, b) => b.userName.localeCompare(a.userName))\n    // setPosts(sorted)\n    // })\n    // .catch(error => {\n    //   console.log(error);\n    // });\n  }\n\n  useEffect(()=>{\n    Promise.all([api.fetchUsers(), api.fetchPosts()])\n    .then(([users, posts]) => {\n      setUsers(users.sort((a, b) => a.name.localeCompare(b.name)))\n      posts.forEach(el => el.userName = getUserNameById(el.userId, users))\n      setPosts(posts)\n    });\n  },[])\n\n  const handleSortClick = () => {\n    const sorted = sortOrder === \"asc\"\n      ? [...posts].sort((a, b) => a.userName.localeCompare(b.userName))\n      : [...posts].sort((a, b) => b.userName.localeCompare(a.userName))\n    setPosts(sorted)\n    setSortOrder(sortOrder === \"asc\" ? \"desc\" : \"asc\")\n  }\n\n  const getUserNameById = (userId, users) => {\n    let user = users.find( user => user.id === userId)\n    return user.username\n  }\n\n  // FINISH YOUR CHANGES HERE\n\n  // ---------------------------------------------------------------\n\n  // DONT REMOVE THIS LINE, THIS IS FOR step 5, BONUS\n  const [uuid, handleRecordsChange] = useUuid();\n\n  return (\n    <Layout>\n      <Layout.Content className=\"content\">\n        <Typography.Title>\n          innRoad Interview\n          <small id=\"uuid\" className=\"records\"> (Last uiid: {uuid})</small>\n        </Typography.Title>\n        <AddPost users={users} onSubmit={handleNewPost} />\n        <Divider />\n        <Button onClick={handleSortClick} className=\"sortButton\">\n          Sorting Posts: {sortOrder === 'asc' ? 'Ascending' : 'Descending'}\n        </Button>\n        <PostsTable records={records} onRecordsChange={handleRecordsChange} />\n      </Layout.Content>\n    </Layout>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}